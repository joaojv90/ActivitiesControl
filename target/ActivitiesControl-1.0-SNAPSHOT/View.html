<!DOCTYPE html>
<html>
    <head>
        <title>Activities</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"/>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"/>
        <link rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.20.2/dist/bootstrap-table.min.css">
        <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://unpkg.com/bootstrap-table@1.20.2/dist/bootstrap-table.min.js"></script>
        <script async src="https://unpkg.com/bootstrap-table@1.20.2/dist/bootstrap-table-locale-all.min.js"></script>
        <script src="https://unpkg.com/bootstrap-table@1.20.2/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
        <script src="https://unpkg.com/bootstrap-table@1.20.2/dist/extensions/filter-control/utils.min.js"></script>
        <script src="js/Methods.js"></script> 
    </head> 
    <body>
        <main>
            <br>
            <br>
            <header>
                <h1 align="center" style="font-family: Roboto">Control para Actividades</h1>
            </header>
            <br>
            <section align="center">
                <button type="button" class="btn btn-primary" 
                        data-bs-toggle="modal" 
                        data-bs-target="#insertActivities">Insertar nueva actividad
                </button>
                <!-- Modal -->
                <div class="modal fade" 
                     id="insertActivities" 
                     data-bs-backdrop="static" 
                     data-bs-keyboard="false" 
                     aria-labelledby="staticBackdropLabel" 
                     aria-hidden="true">  
                    <div class="modal-dialog">    
                        <div class="modal-content">      
                            <div class="modal-header">        
                                <h4 class="modal-title" id="staticBackdropLabel">Insertar datos para la actividad</h4>        
                                <button type="button" class="btn-close" 
                                        data-bs-dismiss="modal" 
                                        aria-label="Close"></button>      
                            </div>      
                            <form id="insertForm" 
                                  action="ControlS"
                                  onsubmit="doPost(event, this)" 
                                  class="modal-body">
                                <div class="mb-3 mt-3">
                                    <label for="startDate" class="form-label">Fecha de Inicio:</label>
                                    <input
                                        type="date"
                                        class="form-control"
                                        id="IstartDate"
                                        placeholder="YYYY-MM-DD"
                                        name="startDate"
                                        required
                                        />
                                </div>
                                <div class="mb-3 mt-3">
                                    <label for="IendDate" class="form-label">Fecha Fin:</label>
                                    <input
                                        type="date"
                                        class="form-control"
                                        id="IendDate"
                                        placeholder="YYYY-MM-DD"
                                        name="endDate"
                                        />
                                </div>
                                <div class="mb-3 mt-3">
                                    <label for="Iactivity" class="form-label">Tipo de actividad:</label>
                                    <input
                                        type="text"
                                        class="form-control"
                                        id="Iactivity"
                                        name="activity"
                                        required
                                        />
                                </div>
                                <div class="mb-3 mt-3">
                                    <label for="Iobservation" class="form-label">Observaciones:</label>
                                    <input
                                        type="text"
                                        class="form-control"
                                        id="Iobservation"
                                        name="observation"
                                        required
                                        />
                                </div>
                            </form>    
                            <div class="modal-footer">        
                                <button type="button" class="btn btn-secondary" 
                                        data-bs-dismiss="modal" id="closeInsert">Cerrar</button>        
                                <button type="submit" class="btn btn-primary"
                                        form="insertForm">Insertar</button>      
                            </div>    
                        </div>  
                    </div>
                </div>
            </section>
            <section align="center">
                <!-- Modal -->
                <div class="modal fade" 
                     id="upDateModal" 
                     data-bs-backdrop="static" 
                     data-bs-keyboard="false" 
                     tabindex="-1" 
                     aria-labelledby="staticBackdropLabel" 
                     aria-hidden="true">  
                    <div class="modal-dialog">    
                        <div class="modal-content">      
                            <div class="modal-header">        
                                <h4 class="modal-title" id="staticBackdropLabel">Actualizar</h4>        
                                <button type="button" class="btn-close" 
                                        data-bs-dismiss="modal" 
                                        aria-label="Close"></button>      
                            </div>      
                            <form id="upDateForm" 
                                  action="ControlS"
                                  onsubmit="doPut(event, this)" 
                                  class="modal-body">
                                <div class="mb-3 mt-3">
                                    <label for="id" class="form-label">Id de Actividad:</label>
                                    <input
                                        type="number"
                                        class="form-control"
                                        id="Uid"
                                        name="id"
                                        required
                                        />
                                </div>
                                <div class="mb-3 mt-3">
                                    <label for="startDate" class="form-label">Fecha de Inicio:</label>
                                    <input
                                        type="date"
                                        class="form-control"
                                        id="UstartDate"
                                        placeholder="YYYY-MM-DD"
                                        name="startDate"
                                        required
                                        />
                                </div>
                                <div class="mb-3 mt-3">
                                    <label for="IendDate" class="form-label">Fecha Fin:</label>
                                    <input
                                        type="date"
                                        class="form-control"
                                        id="UendDate"
                                        placeholder="YYYY-MM-DD"
                                        name="endDate"
                                        />
                                </div>
                                <div class="mb-3 mt-3">
                                    <label for="Iactivity" class="form-label">Tipo de actividad:</label>
                                    <input
                                        type="text"
                                        class="form-control"
                                        id="Uactivity"
                                        name="activity"
                                        required
                                        />
                                </div>
                                <div class="mb-3 mt-3">
                                    <label for="Iobservation" class="form-label">Observaciones:</label>
                                    <input
                                        type="text"
                                        class="form-control"
                                        id="Uobservation"
                                        name="observation"
                                        required
                                        />
                                </div>
                            </form>    
                            <div class="modal-footer">        
                                <button type="button" class="btn btn-secondary" 
                                        data-bs-dismiss="modal" id="CloseUp">Cerrar</button>        
                                <button type="submit" class="btn btn-primary"
                                        form="upDateForm">Actualizar</button>      
                            </div>    
                        </div>  
                    </div>
                </div>
            </section>
            <section>
                <div
                    class="modal fade"
                    id="deleteActivity"
                    data-bs-backdrop="static"
                    data-bs-keyboard="false"
                    tabindex="-1"
                    aria-labelledby="staticBackdropLabel"
                    aria-hidden="true">

                    <div class="modal-dialog modal-dialog-centered">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Confirmar</h5>
                                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                            </div>
                            <div class="modal-body">
                                ¿Esta seguro que desea eliminar?
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn btn-danger" id="deleteBtn" 
                                        onclick="doDelete(idtoDel)">Si</button>
                                <button type="button" class="btn btn-secondary" 
                                        data-bs-dismiss="modal" id="closeDelete">No</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            <br>
            <div class="container" align="center" style="font-family: Roboto">
                <table
                    id="table"
                    data-locale="es-ES"
                    data-url="/ActivitiesControl/ControlS"
                    data-toggle="table"
                    data-filter-control="true"
                    data-show-search-clear-button="true"
                    data-show-columns="true">
                    <thead>
                        <tr>
                            <th data-field="id">ID Actividad</th>
                            <th data-field="startDate" data-filter-control="select">Fecha de Inicio</th>
                            <th data-field="endDate" data-filter-control="select">Fecha fin</th>
                            <th data-field="activity">Tipo de Actividad</th>
                            <th data-field="observation">Observaciones</th>
                            <th data-field="operate" data-formatter="operations" 
                                data-width="222">Acción</th>
                        </tr>
                    </thead>
                </table>  
            </div>
        </main>        
    </body>    
</html>
